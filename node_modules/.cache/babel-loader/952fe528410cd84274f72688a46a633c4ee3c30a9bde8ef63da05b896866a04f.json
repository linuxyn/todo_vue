{"ast":null,"code":"export default {\n  name: 'todosFooter',\n  props: ['todos'],\n  computed: {\n    // 已完成的todo个数\n    doneTodo() {\n      // const x = this.todos.reduce((pre, current)=>{\n      //   console.log('@', pre, current)\n      //   return pre + (current.done ? 1 : 0)\n      // }, 0)\n      //  return x\n\n      return this.todos.reduce((pre, todo) => pre + (todo.done ? 1 : 0), 0);\n    },\n    // 总共的todo个数\n    totalTodos() {\n      return this.todos.length;\n    },\n    //\n    isAll: {\n      get() {\n        // 判断已完成和总共的是否相等且总数要大于0，才全部选中\n        return this.doneTodo === this.totalTodos && this.totalTodos > 0;\n      },\n      set(value) {\n        console.log('计算属性isAll发生变化了=>', value);\n        // 触发自定义事件\n        this.$emit('checkAllTodo', value);\n      }\n    }\n  },\n  methods: {\n    // // 选中全部，或者取消选中全部\n    // checkAll(e){\n    //   console.log('选中全部，或者取消选中全部', e.target.checked)\n    //   this.checkAllTodo(e.target.checked)\n    // },\n    handleDone() {\n      console.log('清除已完成的任务');\n      this.$emit('clearAlltodo');\n      // this.clearAlltodo()\n    }\n  }\n};","map":{"version":3,"mappings":"AAeA;EACAA;EACAC;EACAC;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;;MAEA,mEACA;IAEA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACAC;QACA;QACA;MACA;MACAC;QACAC;QACA;QACA;MACA;IAEA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACAC;MACAF;MACA;MACA;IACA;EACA;AACA","names":["name","props","computed","doneTodo","totalTodos","isAll","get","set","console","methods","handleDone"],"sourceRoot":"src/components","sources":["todosFooter.vue"],"sourcesContent":["<template>\n  <!-- 判断是否展示，这里用totalTodos，当为0时，则不展示 -->\n  <div class=\"todo-footer\" v-show=\"totalTodos\">\n    <label>\n      <!-- <input type=\"checkbox\" :checked=\"isAll\" @change=\"checkAll\"/> -->\n      <!-- 因为上面既有展示又有修改，所以这里可以采用v-model的方式好一些 -->\n      <input type=\"checkbox\" v-model=\"isAll\"/>\n    </label>\n    <span>\n      <span>已完成{{ doneTodo }}</span> / 全部{{ totalTodos }}\n    </span>\n    <button class=\"btn btn-danger\" @click=\"handleDone\">清除已完成任务</button>\n  </div>\n</template>\n<script>\n  export default {\n    name:'todosFooter',\n    props:['todos'],\n    computed:{\n      // 已完成的todo个数\n      doneTodo(){\n        // const x = this.todos.reduce((pre, current)=>{\n        //   console.log('@', pre, current)\n        //   return pre + (current.done ? 1 : 0)\n        // }, 0)\n        //  return x\n\n        return this.todos.reduce((pre, todo)=>pre + (todo.done ? 1 : 0)\n        , 0)\n        \n      },\n      // 总共的todo个数\n      totalTodos(){\n        return this.todos.length\n      },\n      //\n      isAll: {\n        get(){\n          // 判断已完成和总共的是否相等且总数要大于0，才全部选中\n          return this.doneTodo === this.totalTodos && this.totalTodos > 0\n        },\n        set(value){\n            console.log('计算属性isAll发生变化了=>',value)\n            // 触发自定义事件\n            this.$emit('checkAllTodo', value)\n        }\n\n      }\n    },\n    methods:{\n      // // 选中全部，或者取消选中全部\n      // checkAll(e){\n      //   console.log('选中全部，或者取消选中全部', e.target.checked)\n      //   this.checkAllTodo(e.target.checked)\n      // },\n      handleDone(){\n        console.log('清除已完成的任务')\n        this.$emit('clearAlltodo')\n        // this.clearAlltodo()\n      }\n    },\n  }\n</script>\n<style scoped>\n  /*footer*/\n  .todo-footer {\n    height: 40px;\n    line-height: 40px;\n    padding-left: 6px;\n    margin-top: 5px;\n  }\n\n  .todo-footer label {\n    display: inline-block;\n    margin-right: 20px;\n    cursor: pointer;\n  }\n\n  .todo-footer label input {\n    position: relative;\n    top: -1px;\n    vertical-align: middle;\n    margin-right: 5px;\n  }\n\n  .todo-footer button {\n    float: right;\n    margin-top: 5px;\n  }\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}